<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        console.log('person1: shows ticket');
        console.log('person2: shows ticket');

        const preMovie = async() => {
            const promiseWifeBringTicks = new Promise((resolve, reject) => {
                setTimeout(() => reject('ticket'), 1000)
            }); 
            const getPopcorn = new Promise((resolve, reject) => resolve('popcorn'));
            const getCandy = new Promise((resolve, reject) => resolve('candy')); 
            const getCoke = new Promise((resolve, reject) => resolve('coke'))

            let ticket = await promiseWifeBringTicks;

            let [popcorn, candy, coke] = await Promise.all([getPopcorn, getCandy, getCoke])
            
            console.log(`${popcorn}, ${candy}, ${coke}`)

            // let ticket
            // try{
            //     ticket = await promiseWifeBringTicks;
            // } catch(e){
            //     ticket = 'sad face';
            // }
            // return ticket;
        }

        preMovie().then((m) => console.log(`person3: shows ${m}`));

        console.log('person4: shows ticket');
        console.log('person5: shows ticket');
    </script>
</body>
</html>